// ==========================================
// MIXINS
// ==========================================

@use 'variables' as *;

// ========== FLEXBOX ==========

@mixin flex-center($direction: row, $justify: center, $align: center) {
    display: flex;
    flex-direction: $direction;
    justify-content: $justify;
    align-items: $align;
}

// ========== SOMBRAS ==========

@mixin box-shadow($level: 1) {
    @if $level == 1 {
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    } @else if $level == 2 {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    } @else if $level == 3 {
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
    } @else if $level == 4 {
        box-shadow: 2px 2px 10px 2px rgba(47, 128, 199, 0.4);
    }
}

// ========== GRADIENTES ==========

@mixin gradient-primary {
    background-image: linear-gradient(-225deg, $color-primary-light 0%, $color-primary 48%, $color-secondary 100%);
}

@mixin gradient-success {
    background-image: linear-gradient(to top, $color-success-dark 0%, $color-success-light 100%);
}

@mixin gradient-danger {
    background-image: linear-gradient(to bottom, $color-danger-light 0%, $color-danger 100%);
}

// ========== OVERLAY ==========

@mixin background-overlay($opacity: 0.35) {
    &::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, $opacity);
        z-index: 1;
    }
}

// ========== HERO HEADER ==========

@mixin hero-header($image, $height: 400px, $position: center center) {
    position: relative;
    background: url($image) $position / cover no-repeat;
    min-height: $height;
    width: 100%;
    @include flex-center;
    overflow: hidden;
    @include background-overlay;
}

// ========== BOTONES ==========

@mixin button-base {
    border: 2px solid $color-primary;
    background-color: transparent;
    color: $color-black;
    padding: 0.8rem 2rem;
    border-radius: $border-radius-md;
    transition: all $transition-fast;
    letter-spacing: 0.1rem;
    cursor: pointer;
    
    &:hover {
        border: none;
        @include gradient-primary;
        color: $color-white;
        @include box-shadow(4);
        transform: translateY(-2px);
    }
}

// ========== CARDS ==========

@mixin card-base {
    background: $color-white;
    border-radius: $border-radius-lg;
    @include box-shadow(2);
    overflow: hidden;
    transition: transform $transition-fast, box-shadow $transition-fast;
}

// ========== ANIMACIONES ==========

@mixin fade-in-up($duration: 0.6s, $delay: 0s) {
    animation: fadeInUp $duration $delay both;
}

@mixin fade-in-scale($duration: 0.5s, $delay: 0s) {
    animation: fadeInScale $duration $delay both;
}

@mixin slide-in-left($duration: 0.7s, $delay: 0s) {
    animation: slideInLeft $duration $delay both;
}

// ========== RESPONSIVE ==========

@mixin respond-to($breakpoint) {
    @if $breakpoint == mobile {
        @media (max-width: 571px) { @content; }
    } @else if $breakpoint == tablet {
        @media (min-width: 572px) and (max-width: 768px) { @content; }
    } @else if $breakpoint == desktop {
        @media (min-width: 769px) and (max-width: 1279px) { @content; }
    } @else if $breakpoint == large {
        @media (min-width: 1400px) { @content; }
    }
}

// ========== TRUNCATE TEXT ==========

@mixin truncate($lines: 1) {
    @if $lines == 1 {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    } @else {
        display: -webkit-box;
        -webkit-line-clamp: $lines;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
}

// ========== POSITION ABSOLUTE CENTER ==========

@mixin absolute-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

// ========== ASPECT RATIO ==========

@mixin aspect-ratio($width, $height) {
    position: relative;
    
    &::before {
        content: "";
        display: block;
        padding-top: ($height / $width) * 100%;
    }
    
    > * {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
}